{"version":3,"sources":["../../../../lib/api.ts","../../../../components/ScheduleSection.tsx","../../../../app/schedule/page.tsx"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api';\n\nexport interface Tournament {\n  id: string;\n  week: number;\n  date: string;\n  region: 'NA' | 'EU' | 'KR';\n  status: 'complete' | 'live' | 'upcoming';\n  participants: string[];\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface Player {\n  id: string;\n  name: string;\n  region: 'NA' | 'EU' | 'KR';\n  image?: string;\n  description?: string;\n  twitch?: string;\n  twitter?: string;\n  record?: string;\n  points?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface Standing {\n  id: string;\n  rank: number;\n  name: string;\n  region: 'NA' | 'EU' | 'KR';\n  points: number;\n  tournaments: number;\n  wins: number;\n  prize: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface Result {\n  id: string;\n  tournament: string;\n  date: string;\n  winner: string;\n  runner_up: string;\n  region: 'NA' | 'EU' | 'KR';\n  prize_pool: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface Rules {\n  id: string | null;\n  content: string;\n  created_at?: string;\n  updated_at?: string | null;\n}\n\n// Generic fetch function with error handling\nasync function fetchAPI<T>(endpoint: string, options?: RequestInit): Promise<T> {\n  const url = `${API_URL}${endpoint}`;\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...options?.headers,\n      },\n      // Disable Next.js caching - always fetch fresh data\n      cache: 'no-store',\n      next: { revalidate: 0 },\n    });\n\n    if (!response.ok) {\n      throw new Error(`API Error: ${response.status} ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch ${endpoint}:`, error);\n    throw error;\n  }\n}\n\n// Tournament API calls\nexport const tournamentsAPI = {\n  getAll: () => fetchAPI<Tournament[]>('/tournaments'),\n  getByWeek: (week: number) => fetchAPI<Tournament>(`/tournaments/${week}`),\n};\n\n// Players API calls\nexport const playersAPI = {\n  getAll: () => fetchAPI<Player[]>('/players'),\n  getByName: (name: string) => fetchAPI<Player>(`/players/${name}`),\n};\n\n// Standings API calls\nexport const standingsAPI = {\n  getAll: () => fetchAPI<Standing[]>('/standings'),\n};\n\n// Results API calls\nexport const resultsAPI = {\n  getAll: () => fetchAPI<Result[]>('/results'),\n};\n\n// Rules API calls\nexport const rulesAPI = {\n  get: () => fetchAPI<Rules>('/rules'),\n};\n\n// Admin API calls (requires authentication token)\nasync function fetchAdminAPI<T>(\n  endpoint: string,\n  options?: RequestInit,\n  token?: string\n): Promise<T> {\n  const url = `${API_URL}${endpoint}`;\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        ...(token ? { Authorization: `Bearer ${token}` } : {}),\n        ...options?.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.error || `API Error: ${response.status} ${response.statusText}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(`Failed to fetch ${endpoint}:`, error);\n    throw error;\n  }\n}\n\nexport const authAPI = {\n  login: (email: string, password: string) =>\n    fetchAPI<{ token: string }>('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    }),\n};\n\nexport const adminPlayersAPI = {\n  create: (player: Omit<Player, 'id' | 'created_at' | 'updated_at'>, token: string) =>\n    fetchAdminAPI<Player>('/players', { method: 'POST', body: JSON.stringify(player) }, token),\n  update: (id: string, player: Partial<Player>, token: string) =>\n    fetchAdminAPI<Player>(`/players/${id}`, { method: 'PUT', body: JSON.stringify(player) }, token),\n  delete: (id: string, token: string) =>\n    fetchAdminAPI<{ message: string }>(`/players/${id}`, { method: 'DELETE' }, token),\n};\n\nexport const adminTournamentsAPI = {\n  create: (tournament: Omit<Tournament, 'id' | 'created_at' | 'updated_at'>, token: string) =>\n    fetchAdminAPI<Tournament>('/tournaments', { method: 'POST', body: JSON.stringify(tournament) }, token),\n  update: (id: string, tournament: Partial<Tournament>, token: string) =>\n    fetchAdminAPI<Tournament>(`/tournaments/${id}`, { method: 'PUT', body: JSON.stringify(tournament) }, token),\n  delete: (id: string, token: string) =>\n    fetchAdminAPI<{ message: string }>(`/tournaments/${id}`, { method: 'DELETE' }, token),\n};\n\nexport const adminStandingsAPI = {\n  create: (standing: Omit<Standing, 'id' | 'created_at' | 'updated_at'>, token: string) =>\n    fetchAdminAPI<Standing>('/standings', { method: 'POST', body: JSON.stringify(standing) }, token),\n  update: (id: string, standing: Partial<Standing>, token: string) =>\n    fetchAdminAPI<Standing>(`/standings/${id}`, { method: 'PUT', body: JSON.stringify(standing) }, token),\n  delete: (id: string, token: string) =>\n    fetchAdminAPI<{ message: string }>(`/standings/${id}`, { method: 'DELETE' }, token),\n};\n\nexport const adminResultsAPI = {\n  create: (result: Omit<Result, 'id' | 'created_at' | 'updated_at'>, token: string) =>\n    fetchAdminAPI<Result>('/results', { method: 'POST', body: JSON.stringify(result) }, token),\n  update: (id: string, result: Partial<Result>, token: string) =>\n    fetchAdminAPI<Result>(`/results/${id}`, { method: 'PUT', body: JSON.stringify(result) }, token),\n  delete: (id: string, token: string) =>\n    fetchAdminAPI<{ message: string }>(`/results/${id}`, { method: 'DELETE' }, token),\n};\n\nexport const adminRulesAPI = {\n  update: (content: string, token: string) =>\n    fetchAdminAPI<Rules>('/rules', { method: 'PUT', body: JSON.stringify({ content }) }, token),\n};\n","import Link from \"next/link\";\nimport { tournamentsAPI, Tournament } from \"@/lib/api\";\n\nconst getStatusStyles = (status: string) => {\n  switch (status) {\n    case \"complete\":\n      return \"bg-gray-700 border-gray-600 text-gray-400\";\n    case \"live\":\n      return \"bg-red-900/30 border-tyler1-red text-tyler1-red animate-pulse\";\n    case \"upcoming\":\n      return \"bg-tyler1-grey border-green-600 text-green-400\";\n    default:\n      return \"bg-tyler1-grey border-tyler1-grey text-white\";\n  }\n};\n\nconst getStatusBadge = (status: string) => {\n  switch (status) {\n    case \"complete\":\n      return <span className=\"text-xs\">âœ… COMPLETE</span>;\n    case \"live\":\n      return <span className=\"text-xs font-bold\">ðŸ”´ LIVE NOW</span>;\n    case \"upcoming\":\n      return <span className=\"text-xs\">ðŸ“… UPCOMING</span>;\n    default:\n      return null;\n  }\n};\n\nconst getRegionFlag = (region: string) => {\n  switch (region) {\n    case \"NA\":\n      return \"ðŸ‡ºðŸ‡¸\";\n    case \"EU\":\n      return \"ðŸ‡ªðŸ‡º\";\n    case \"KR\":\n      return \"ðŸ‡°ðŸ‡·\";\n    default:\n      return \"\";\n  }\n};\n\nexport default async function ScheduleSection() {\n  let scheduleData: Tournament[] = [];\n\n  try {\n    scheduleData = await tournamentsAPI.getAll();\n  } catch (error) {\n    console.error('Failed to fetch tournaments:', error);\n    scheduleData = [];\n  }\n\n  return (\n    <section className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n      <div className=\"text-center mb-12\">\n        <h2 className=\"text-4xl font-bold text-white mb-4\">\n          Tournament <span className=\"text-tyler1-red\">Schedule</span>\n        </h2>\n        <p className=\"text-gray-400\">Weekly tournaments across all regions</p>\n      </div>\n\n      {scheduleData.length === 0 ? (\n        <div className=\"text-center py-12 bg-tyler1-grey rounded-lg\">\n          <p className=\"text-gray-400 text-lg\">No tournament schedule available yet. Check back soon!</p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {scheduleData.map((item: Tournament) => (\n          <div\n            key={item.week}\n            className={`border-2 rounded-lg p-6 transition-all duration-300 hover:scale-105 ${getStatusStyles(\n              item.status\n            )}`}\n          >\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h3 className=\"text-2xl font-bold text-white mb-1\">\n                  Week {item.week}\n                </h3>\n                <p className=\"text-sm text-gray-400\">{item.date}</p>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-3xl mb-1\">{getRegionFlag(item.region)}</div>\n                <p className=\"text-lg font-bold text-white\">{item.region}</p>\n              </div>\n            </div>\n\n            <div className=\"mb-4\">{getStatusBadge(item.status)}</div>\n\n            {item.participants && item.participants.length > 0 && (\n              <div className=\"mb-4\">\n                <p className=\"text-xs text-gray-400 mb-2\">Participants:</p>\n                <div className=\"flex flex-wrap gap-1\">\n                  {item.participants.slice(0, 4).map((player, idx) => (\n                    <div\n                      key={idx}\n                      className=\"w-8 h-8 rounded-full bg-tyler1-dark border-2 border-tyler1-red flex items-center justify-center text-xs font-bold\"\n                      title={player}\n                    >\n                      {player.substring(0, 2).toUpperCase()}\n                    </div>\n                  ))}\n                  {item.participants.length > 4 && (\n                    <div className=\"w-8 h-8 rounded-full bg-tyler1-dark border-2 border-gray-600 flex items-center justify-center text-xs text-gray-400\">\n                      +{item.participants.length - 4}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {item.status === \"live\" && (\n              <Link\n                href=\"https://twitch.tv/loltyler1\"\n                target=\"_blank\"\n                className=\"block w-full text-center bg-tyler1-red hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200\"\n              >\n                WATCH LIVE\n              </Link>\n            )}\n\n            {item.status === \"complete\" && (\n              <Link\n                href={`/results/week-${item.week}`}\n                className=\"block w-full text-center bg-tyler1-grey hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200\"\n              >\n                View Results\n              </Link>\n            )}\n          </div>\n        ))}\n        </div>\n      )}\n\n      <div className=\"text-center mt-8\">\n        <Link\n          href=\"/schedule\"\n          className=\"inline-block text-tyler1-red hover:text-red-500 font-bold transition-colors duration-200\"\n        >\n          View Full Schedule â†’\n        </Link>\n      </div>\n    </section>\n  );\n}\n","import ScheduleSection from \"@/components/ScheduleSection\";\n\n// Revalidate data every 30 seconds\nexport const revalidate = 30;\n\nexport default function SchedulePage() {\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n      <div className=\"text-center mb-12\">\n        <h1 className=\"text-5xl font-bold text-white mb-4\">\n          Full <span className=\"text-tyler1-red\">Schedule</span>\n        </h1>\n        <p className=\"text-xl text-gray-400 mb-8\">\n          Season 1 Winter 2026 - All tournament dates and times\n        </p>\n      </div>\n\n      <ScheduleSection />\n\n      <div className=\"mt-16 bg-tyler1-grey rounded-lg p-8 border border-tyler1-dark\">\n        <h2 className=\"text-2xl font-bold text-white mb-4\">Time Zone Information</h2>\n        <div className=\"space-y-3 text-gray-300\">\n          <p>\n            <span className=\"font-bold text-white\">NA Tournaments:</span> 8:00 PM EST / 5:00 PM PST\n          </p>\n          <p>\n            <span className=\"font-bold text-white\">EU Tournaments:</span> 8:00 PM CET / 2:00 PM EST\n          </p>\n          <p>\n            <span className=\"font-bold text-white\">KR Tournaments:</span> 8:00 PM KST / 6:00 AM EST\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}